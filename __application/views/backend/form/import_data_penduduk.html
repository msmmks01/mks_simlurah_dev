<form id="form_{$acak}" method="post" url="{$host}backoffice-simpan/import_data_penduduk_sulsel" enctype="multipart/form-data" >
	<input type="hidden" name="editstatus" value="import">

	<div class="row">
		<div class="col-md-12">
			<div class="box box-primary">
				<div class="box-body">
					<div class="row">
						<div class="col-md-12">
							
							<div class="row" >
								<div class="col-md-6">
									<div class="form-group">
										<label for="exampleInputFile">File Excel</label>
										<input id="filename" name="filename" type="file" style="width: 250px;" />
										<b style="color:red;margin-top:15px;">Template Excel Harus Download Dari System</b> <br/>
										<a href="{$host}__repository/tmp_upload/template-import-excel.xlsx" target="_blank">Download Template Import Penduduk</a>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-12">
									<hr />
									{include file="backend/template/button_save.html" text="Simpan" id_na="save" style_btn="btn-success"  btn_goyz="false"}
									{include file="backend/template/button_save.html" text="Kembali" click="$('#pesanModal').modal('hide');" id_na="cancel" style_btn="btn-danger"  btn_goyz="true"}	
								</div>
							</div>
							
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	
</form>

<script>
	var rulesnya = {
		filename : "required",
	};

	var messagesnya = {
		filename : "<i style='color:red'>Harus Diisi</i>",
	}

	$( "#form_{$acak}" ).validate( {
		rules: rulesnya,
		messages: messagesnya,
		submitHandler: function(form) {
			$.LoadingOverlay("show");
			submit_form('form_{$acak}',function(r){
				if(r == 1 ){ 
					$.messager.alert(nama_apps,'Data Tersimpan','info'); 
					$('#cancel_{$acak}').trigger('click');
					$('#grid_data_penduduk').datagrid('reload');
				}else{ 
					$.messager.alert(nama_apps,'Proses Simpan Data Gagal '+r,'warning'); 
				}
				$.LoadingOverlay("hide", true);
			});
			//*/
		},
		errorPlacement: function(error, element) {
	        var name = element.attr('name');
	        var errorSelector = '.validation_error_message[for="' + name + '"]';
	        var $element = $(errorSelector);
	        if ($element.length) { 
	            $(errorSelector).html(error.html());
	        } else {
	            error.insertAfter(element);
	        }
	    }
	} );
</script>